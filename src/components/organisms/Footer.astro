---
import type { GlobalData } from '../../data/types'
import Container from '../atoms/Container.astro'
import Mail from '../atoms/icons/MailIcon.astro'
import Phone from '../atoms/icons/Phone.astro'
import AccountsBlock from '../molecules/AccountsBlock.astro'
import Heading from '../molecules/Heading.astro'

interface Props {
  data: GlobalData
}

const { data } = Astro.props
---

<footer class="footer">
  <Container>
    <div class="wrapper">
      
      {data && (
        <Heading as="h1" size="md" text={data.companyName} />
          <div class="items-wrapper">
          <a class="link" href={`tel:${data.companyPhone}`}>
            <Phone size={28} />
            {data.companyPhone}
          </a>
          <a class="link" href={`mailto:${data.companyEmail}`}>
            <Mail size={28}/>
            {data.companyEmail}
          </a>
          </div>
      )}
      </div>
      <div class="regulations-wrapper">
        <div class="grid-wrapper">
          <div class="items-wrap">
            <a class="link" href='/polityka-prywatnosci'>Polityka prywatności</a>
            <a class="link" href='/regulamin-klubu-sportowego-akademia-gimnastyki'>Regulamin KS Akademia Gimnastyki</a>
            <a class="link" href='/regulamin-finansowy-obozy-polkolonie'>Regulamin finansowy obozów i półkolonii</a>
          </div>
            {data.companyAccountDetails && (
              <AccountsBlock data={data} />
            )}
        </div>
      </div>  
  </Container>
</footer>

<style>
  .footer {
    background-color: var(--weirdo-color-accent-3);
    padding: 2rem 0;
    
    @media(min-width: 768px) {
      margin-top: 8rem;
    }
    
    .wrapper {
      display: flex;
      flex-direction: column;
      gap: 1rem;

      @media(min-width: 768px) {
        flex-direction: row;
       gap: 5rem;
      }
    }

    .link {
      position: relative;
      display: flex;
      align-items: center;
      gap: 0.5rem;

      &:hover {
        color: var(--weirdo-color-white);
        fill: var(--weirdo-color-white);
      }
    }
  }

  .items-wrap {
    display: flex;
    flex-direction: column;
    border-top: 1px solid var(--weirdo-color-black);
    padding-top: 1rem;
    
    @media (min-width: 520px) {
      border-top: none;
      padding-top: 0;
      justify-content: flex-end;
    }
    
    @media (min-width: 992px) {
      flex-direction: row;
      align-items: flex-end;
      gap: 1rem;
      justify-content: initial;
    }
  }

  .items-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .grid-wrapper {
    display: flex;
    flex-direction: column-reverse;
    gap: 2rem;
    
    @media(min-width: 768px) {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }
  }

  .regulations-wrapper {
    font-size: var(--weirdo-text-md);
    border-top: 1px solid var(--weirdo-color-black);
    margin-top: 2rem;
    padding-top: 2rem;

    .link {
      @media(min-width: 768px) {
      font-size: calc(0.8 * var(--weirdo-text-md));
      }
    }
  }
</style>