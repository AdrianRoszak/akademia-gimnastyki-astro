---
import { Image } from 'astro:assets'
import type { GlobalData } from '../../data/types'
import { urlForImage } from '../../utils'
import Container from '../atoms/Container.astro'
import MailIcon from '../atoms/icons/MailIcon.astro'
import Phone from '../atoms/icons/Phone.astro'

interface Props {
  data: GlobalData
}

const { data } = Astro.props
---

<header class="weirdo-header">
  <Container>
    <div class="wrapper">
      {data.companyLogo && (
        <div class="weirdo-logo">
          <Image
            src={urlForImage(data.companyLogo.source)
              .width(100)
              .format('webp')
              .quality(100)
              .url()
            }
            alt={data.companyName}
            width={100}
            height={100}
            class="logo"
          />
        </div>
      )}
      <div class="icons-wrapper">
        <a href={`tel:${data.companyPhone}`} class="icon-link">
          <Phone size={28} color="var(--weirdo-color-white" />
        </a>
        <a href={`mailto:${data.companyEmail}`} class="icon-link">
          <MailIcon size={28} color="var(--weirdo-color-white" />
        </a>
      </div>
    </div>
  </Container>
</header>

<style>


  .wrapper {
    margin: 0 auto;
    box-shadow: var(--weirdo-shadow-default);
    background: var(--weirdo-color-white);
    padding: 0.5rem;
    background: #fafafa;
    display: flex;
    justify-content: space-between;
    align-items: center;

    @media (min-width: 768px) {
      width: 90%;
    }

    @media (min-width:1200px) {
      width: 80%;
      padding: 1rem;
    }

    .icons-wrapper {

      display: flex;
      align-items: center;
      gap: 1rem;
    }
  }
</style>