---
import Banner from './Banner.astro'

const { data } = Astro.props
---

<div class:list={["swiper", "main-banner-swiper"]}>
  <div class="swiper-wrapper">
    {data && data.map((banner) => (
      <div class="swiper-slide">
        <Banner data={banner} />
      </div>
    ))}
  </div>
  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
<div class="swiper-pagination"></div>
</div>


<script type="module">
import Swiper from 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs'

  new Swiper('.main-banner-swiper', {
    autoplay: {
      delay: 4000,
    },
    speed: 1500,
    loop: true,
    effect: 'fade',
    fadeEffect: {
      crossFade: true
    },
    navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
  })
</script>

<style>
  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-button-next,
  .swiper-button-prev {
    /* position: relative; */
    color: var(--weirdo-color-white);
    background-color: var(--weirdo-color-accent-1);
    border-radius: 50%;
    width: 2.5rem;
    height: 2.5rem;
  transition: all var(--weirdo-animation-duration);


    &::after {
      position: absolute;
      font-size: 1rem;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    &:hover {
      transform: scale(1.1);
      background-color: var(--weirdo-color-accent-1-80);
    }
  }

  .swiper-button-next {
    @media (max-width: 768px) {
      background: var(--weirdo-color-white);
      color: var(--weirdo-color-accent-1);

      &:active, &:focus {
        background: var(--weirdo-color-white);
      }
    }
  }
</style>